(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{105:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(25),s=n.n(c),i=(n(73),n(74),n(6)),l=n(5),o=(n(75),n(11)),r=n(60),d=n.n(r),u=n(110),j=n(1),h=function(){return Object(j.jsxs)(u.a,{className:d.a.Carousel,"data-interval":"10000",children:[Object(j.jsx)(u.a.Item,{children:Object(j.jsx)("img",{className:"d-block w-100",src:"./images/pets.png",alt:"Pets"})}),Object(j.jsx)(u.a.Item,{children:Object(j.jsx)("img",{className:"d-block w-100",src:"./images/clinic-front.png",alt:"Clinic front"})}),Object(j.jsx)(u.a.Item,{children:Object(j.jsx)("img",{className:"d-block w-100",src:"./images/op-room.png",alt:"op-room"})})]})},b=function(){return Object(j.jsx)("div",{children:Object(j.jsx)(h,{})})},p=n(13),m=n(44),O=n.n(m),g=n(10),x=n.n(g),v=n(109),f=n(9),y=function(e,t){return Object(i.a)(Object(i.a)({},e),t)},C=function(e,t){var n=!0;if(!t)return!0;if("true"===t.required&&(n=""!==e.trim()&&n),t.minLength&&(n=e.length>=t.minLength&&n),t.maxLength&&(n=e.length<=t.maxLength&&n),t.isEmail){n=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e)&&n}if(t.isNumeric){n=/^\d+$/.test(e)&&n}return console.log("isValid",n),n},_=n(35),N=n.n(_),S=function(e){var t=null,n=[N.a.InputElement];e.invalid&&e.shouldValidate&&e.touched&&n.push(N.a.Invalid);var a=null;switch(e.invalid&&e.touched&&(a=Object(j.jsxs)("p",{children:["Please enter a valid"," ",e.elementConfig.placeholder.toLowerCase()]})),e.elementType){case"input":t=Object(j.jsx)("input",Object(i.a)(Object(i.a)({className:n.join(" ")},e.elementConfig),{},{value:e.value,onChange:e.changed}));break;case"textarea":t=Object(j.jsx)("textarea",Object(i.a)(Object(i.a)({className:n.join(" ")},e.elementConfig),{},{value:e.value,onChange:e.changed}));break;case"select":t=Object(j.jsxs)("select",{className:n.join(" "),value:e.value,onChange:e.changed,children:[Object(j.jsx)("option",{value:"",children:"--Choose one--"}),e.elementConfig.options.map((function(e){return Object(j.jsx)("option",{value:e.value,children:e.displayValue},e.value)}))]});break;default:t=Object(j.jsx)("input",Object(i.a)(Object(i.a)({className:n.join(" ")},e.elementConfig),{},{value:e.value,onChange:e.changed}))}return Object(j.jsxs)("div",{className:N.a.Input,children:[t,a]})},w=function(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),c=n[0],s=n[1],o=Object(a.useState)({name:{elementType:"input",elementConfig:{type:"text",placeholder:"First name"},value:"",validation:{required:!0,minLength:2},valid:!1,touched:!1},lastName:{elementType:"input",elementConfig:{type:"text",placeholder:"Last name"},value:"",validation:{required:!0,minLength:2},valid:!1,touched:!1},email:{elementType:"input",elementConfig:{type:"email",placeholder:"Email"},value:"",validation:{required:!0,isEmail:!0,unique:!0},valid:!1,touched:!1},password:{elementType:"input",elementConfig:{type:"password",placeholder:"Password"},value:"",validation:{required:!0,minLength:3},valid:!1,touched:!1},confirm:{elementType:"input",elementConfig:{type:"password",placeholder:"Confirm password"},value:"",validation:{required:!0,minLength:3},valid:!1,touched:!1},street:{elementType:"input",elementConfig:{type:"text",placeholder:"Street"},value:"",validation:{},valid:!1,touched:!1},zipCode:{elementType:"input",elementConfig:{type:"text",placeholder:"ZIP Code"},value:"",validation:{minLength:5,maxLength:5},valid:!1,touched:!1},city:{elementType:"input",elementConfig:{type:"text",placeholder:"City"},value:"",validation:{},valid:!1,touched:!1},state:{elementType:"input",elementConfig:{type:"text",placeholder:"State"},value:"",validation:{},valid:!1,touched:!1},phoneNumber:{elementType:"input",elementConfig:{type:"text",placeholder:"Phone Num."},value:"",validation:{},valid:!1,touched:!1}}),r=Object(l.a)(o,2),d=r[0],u=r[1],h=Object(a.useState)(!1),b=Object(l.a)(h,2),m=b[0],g=b[1];console.log("formUpdated",d),console.log("formIsValid",m);var _=[];for(var N in d)_.push({id:N,config:d[N]});var w=_.map((function(e){return Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)(S,{className:"form-control",elementType:e.config.elementType,elementConfig:e.config.elementConfig,value:e.config.value,invalid:!e.config.valid,shouldValidate:e.config.validation,touched:e.config.touched,changed:function(t){return function(e,t){console.log("inputId",t);var n=y(d[t],{value:e.target.value,valid:C(e.target.value,d[t].validation),touched:!0}),a=y(d,Object(p.a)({},t,n)),c=!0;for(var s in a)c=a[s].valid&&m;u(a),g(c)}(t,e.id)}})},e.id)}));return Object(j.jsxs)(v.a,{className:O.a.Form,onSubmit:function(t){var n;t.preventDefault(),(n={name:d.name.value,lastName:d.lastName.value,email:d.email.value,password:d.password.value,confirm:d.confirm.value,street:d.street.value,zipCode:d.zipCode.value,city:d.city.value,state:d.state.value,phoneNumber:d.phoneNumber.value},x.a.post("/api/auth/signup",n).then((function(e){return e.data})).catch((function(e){return e.response.data}))).then((function(t){if(t.message)for(var n in s(t.message),d)u(Object(i.a)(Object(i.a)({},d),{},{formControl:Object(i.a)(Object(i.a)({},n),{},{value:""})}));else e.setUser(t),e.history.push("/")}))},children:[w,Object(j.jsx)("button",{className:O.a.Button,type:"submit",children:"Sign up"}),c&&Object(j.jsx)("p",{style:{color:"red",padding:"0"},children:c}),Object(j.jsx)(f.b,{to:"/",children:"Back"})]})},F=n(47),I=n.n(F),L=n(48),k=n.n(L),B=n(64),T=n(107),P=n(108),E=function(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)({email:{elementType:"input",elementConfig:{type:"email",placeholder:"Email"},value:"",validation:{required:!0,isEmail:!0},touched:!1},password:{elementType:"input",elementConfig:{type:"password",placeholder:"Password"},value:"",validation:{required:!0,minLenght:3},touched:!1}}),o=Object(l.a)(i,2),r=o[0],d=o[1],u=[];for(var h in r)u.push({id:h,config:r[h]});var b=u.map((function(e){return Object(j.jsx)(B.a,{placeholder:e.config.elementConfig.placeholder,type:e.config.elementConfig.type,style:{marginRight:"2%"},value:e.config.value,onChange:function(t){return function(e,t){var n=y(r,Object(p.a)({},t,y(r[t],{value:e.target.value,valid:C(e.target.value,r[t].validation),touched:!0})));d(n)}(t,e.id)}},e.id)}));return Object(j.jsxs)(v.a,{inline:!0,className:k.a.Form,onSubmit:function(t){var n;t.preventDefault(),(n={email:r.email.value,password:r.password.value},x.a.post("/api/auth/login",n).then((function(e){return e.data})).catch((function(e){return e.response.data}))).then((function(t){t.message?(s(t.message),console.log("form",r)):(console.log(t),e.setUser(t),e.history.push("/"))}))},children:[Object(j.jsxs)("div",{style:{display:"flex"},children:[Object(j.jsx)(T.a,{children:b}),Object(j.jsx)(P.a,{style:{maxHeight:"3rem",fontSize:"0.9rem"},type:"submit",children:"Log in"})]}),Object(j.jsx)("div",{children:c?Object(j.jsx)("p",{style:{color:"red"},children:c}):Object(j.jsx)("div",{children:Object(j.jsxs)("p",{children:["Haven't you registered yet?",Object(j.jsx)(f.b,{to:"/signup",className:k.a.Button,children:"Sign up"}),"here"]})})})]})},U=n(111),z=function(e){console.log("isEmployee",e.isEmployee);return Object(j.jsxs)(U.a,{className:I.a.Navbar,children:[e.user?Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:Object(j.jsx)(f.b,{to:"/users/".concat(e.user._id),children:"Profile"})}),Object(j.jsx)("li",{children:Object(j.jsx)("button",{className:I.a.Button,onClick:function(){return x.a.delete("/api/auth/logout").then((function(e){return e.data})).catch((function(e){return e.response.data})).then((function(){e.setUser((function(){return""})),e.history.push("/")})).catch((function(e){console.log(e)}))},children:"Logout"})})]}):Object(j.jsx)(E,{setUser:e.setUser,history:e.history}),e.isEmployee?Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:Object(j.jsx)(f.b,{to:"/users",children:"Users"})}),Object(j.jsx)("li",{children:Object(j.jsx)(f.b,{to:"/pets",children:"Patients"})})]}):Object(j.jsx)("ul",{children:Object(j.jsx)("li",{children:Object(j.jsx)(f.b,{to:"#emergencyForm",children:"Book an appointment"})})})]})},D=n(66),R=n.n(D),q=function(){return Object(j.jsxs)("div",{className:R.a.Footer,children:[Object(j.jsx)("h5",{children:" Follow Us "}),Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:Object(j.jsx)(f.b,{to:"#",children:" Twitter "})}),Object(j.jsx)("li",{children:Object(j.jsx)(f.b,{to:"#",children:" Facebook "})}),Object(j.jsx)("li",{children:Object(j.jsx)(f.b,{to:"#",children:" Instagram "})})]})]})},V=n(36),A=n.n(V),Z=n(67),H=n.n(Z),J=function(e){return Object(j.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",marginLeft:"10%"},children:[Object(j.jsx)("input",{type:"checkbox",name:e.name,checked:e.checked,onChange:e.handleChange}),Object(j.jsx)("label",{style:{marginLeft:"15%"},htmlFor:e.name,children:e.label})]})},Q=function(e){return Object(j.jsxs)("div",{style:{width:"50%"},children:[Object(j.jsx)("label",{htmlFor:"role",children:"Role: "}),Object(j.jsxs)("select",{name:"role",id:"role",style:{width:" 7rem",margin:"5% 0 0 5%"},onChange:e.handleChange,children:[Object(j.jsx)("option",{value:"",children:"All"}),e.userRoleOptions]})]})},W=function(e){return Object(j.jsx)("div",{style:{margin:"5% 0 3% 0"},children:Object(j.jsx)("input",{type:"text",name:"search",id:"search",placeholder:"Search...",onChange:e.handleChange,style:{width:"20rem"}})})},$=function(e){return Object(j.jsxs)("form",{style:{width:"80vw",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"flex-start"},children:[Object(j.jsx)(W,{handleChange:e.handleChange}),Object(j.jsx)("div",{style:{display:"flex",justifyContent:"flex-start",width:"30rem",marginBottom:"10%"},children:e.userRoleOptions?Object(j.jsx)(Q,{userRoleOptions:e.userRoleOptions,handleChange:e.handleChange}):Object(j.jsxs)("div",{className:H.a.Container,children:[Object(j.jsx)(J,{name:"dog",label:"Dog",checked:e.isDog,handleChange:e.handleChange}),Object(j.jsx)(J,{name:"cat",label:"Cat",checked:e.isCat,handleChange:e.handleChange}),Object(j.jsx)(J,{name:"bird",label:"Bird",checked:e.isBird,handleChange:e.handleChange}),Object(j.jsx)(J,{name:"rodent",label:"Rodent",checked:e.isRodent,handleChange:e.handleChange}),Object(j.jsx)(J,{name:"reptile",label:"Reptile",checked:e.isReptile,handleChange:e.handleChange}),Object(j.jsx)(J,{name:"other",label:"Other",checked:e.isOther,handleChange:e.handleChange})]})})]})},G=n(68),K=n.n(G),M=function(){return Object(j.jsx)("div",{className:K.a.Loader,children:"Loading..."})},X=function(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(""),o=Object(l.a)(i,2),r=o[0],d=o[1],u=Object(a.useState)(""),h=Object(l.a)(u,2),b=h[0],p=h[1],m=Object(a.useState)(!0),O=Object(l.a)(m,2),g=O[0],v=O[1],y=Object(a.useState)(!0),C=Object(l.a)(y,2),_=C[0],N=C[1],S=Object(a.useState)(!0),w=Object(l.a)(S,2),F=w[0],I=w[1],L=Object(a.useState)(!0),k=Object(l.a)(L,2),B=k[0],T=k[1],P=Object(a.useState)(!0),E=Object(l.a)(P,2),U=E[0],z=E[1];Object(a.useEffect)((function(){x.a.get("/api/users").then((function(e){console.log("users",e.data),s(e.data)})).catch((function(e){console.log(e)}))}),[]),console.log("usersList",c);var D=c.filter((function(e){return("".concat(e.name).toLowerCase().includes("".concat(r.toLowerCase()))||"".concat(e.lastName).toLowerCase().includes("".concat(r.toLowerCase())))&&(e.role===b||!b)})).map((function(e){return Object(j.jsxs)("tr",{className:A.a.resultCard,children:[Object(j.jsx)("td",{style:{width:"30%"},children:Object(j.jsxs)(f.b,{to:"/users/".concat(e._id),children:[e.lastName,", ",e.name]})}),Object(j.jsx)("td",{children:e.role}),Object(j.jsx)("td",{style:{display:"flex"},children:e.pets.map((function(e){console.log(e)}))})]},e._id)})),R=Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("option",{value:"employee",children:"employee"}),Object(j.jsx)("option",{value:"client",children:"client"})]});return c?Object(j.jsxs)("div",{className:A.a.Container,children:[Object(j.jsx)($,{handleChange:function(e){"select-one"===e.target.type?p(e.target.value):"checkbox"===e.target.type?"dog"===e.target.name?v((function(){return!g})):"cat"===e.target.name?N((function(){return!_})):"bird"===e.target.name?I((function(){return!F})):"reptile"===e.target.name?T((function(){return!B})):z((function(){return!U})):d(e.target.value)},userRoleOptions:R}),Object(j.jsx)("button",{className:A.a.Button,children:Object(j.jsx)(f.b,{to:"/users/add",children:Object(j.jsx)("span",{children:"+"})})}),Object(j.jsx)("table",{style:{margin:"0 0 10% 5%"},children:Object(j.jsx)("tbody",{children:D})})]}):Object(j.jsx)(M,{})},Y=n(19),ee=n.n(Y),te=n(26),ne=n(37),ae=n.n(ne),ce=n(20),se=n.n(ce),ie=function(e){return Object(j.jsx)("div",{children:Object(j.jsxs)("form",{className:se.a.Form,onSubmit:e.handleSubmit,children:[Object(j.jsx)("h2",{children:"Edit "}),Object(j.jsxs)("div",{className:se.a.Input,children:[Object(j.jsx)("label",{htmlFor:"name",children:"Name: \xa0"}),Object(j.jsx)("input",{type:"text",id:"name",name:"name",value:e.selectedUserForm.name,onChange:e.handleChange})]}),Object(j.jsxs)("div",{className:se.a.Input,children:[Object(j.jsx)("label",{htmlFor:"name",children:"Last name: \xa0"}),Object(j.jsx)("input",{type:"text",id:"lastName",name:"lastName",value:e.selectedUserForm.lastName,onChange:e.handleChange})]}),Object(j.jsxs)("div",{className:se.a.Input,children:[Object(j.jsx)("label",{htmlFor:"street",children:"Street: \xa0"}),Object(j.jsx)("input",{type:"text",id:"street",name:"street",value:e.selectedUserForm.address.street,onChange:e.handleChange})]}),Object(j.jsxs)("div",{className:se.a.Input,children:[Object(j.jsx)("label",{htmlFor:"zipCode",children:"ZIP Code: \xa0"}),Object(j.jsx)("input",{type:"text",id:"zipCode",name:"zipCode",value:e.selectedUserForm.address.zipCode,onChange:e.handleChange})]}),Object(j.jsxs)("div",{className:se.a.Input,children:[Object(j.jsx)("label",{htmlFor:"city",children:"City: \xa0"}),Object(j.jsx)("input",{type:"text",id:"city",name:"city",value:e.selectedUserForm.address.city,onChange:e.handleChange})]}),Object(j.jsxs)("div",{className:se.a.Input,children:[Object(j.jsx)("label",{htmlFor:"state",children:"State: \xa0"}),Object(j.jsx)("input",{type:"text",id:"state",name:"state",value:e.selectedUserForm.address.state,onChange:e.handleChange})]}),Object(j.jsxs)("div",{className:se.a.Input,children:[Object(j.jsx)("label",{htmlFor:"phoneNum",children:"Phone Num: \xa0"}),Object(j.jsx)("input",{type:"text",id:"phoneNumber",name:"phoneNumber",value:e.selectedUserForm.phoneNumber,onChange:e.handleChange})]}),Object(j.jsxs)("div",{className:se.a.buttons,children:[Object(j.jsx)("button",{type:"submit",children:"Update"}),Object(j.jsx)("button",{onClick:e.toggleEditForm,children:"Back"})]})]})})},le=function(e){console.log("UserDetails props",e);var t=Object(a.useState)(null),n=Object(l.a)(t,2),c=(n[0],n[1]),s=Object(a.useState)(!1),o=Object(l.a)(s,2),r=o[0],d=o[1],u=Object(a.useState)(!1),h=Object(l.a)(u,2),b=(h[0],h[1],Object(a.useState)("")),m=Object(l.a)(b,2),O=m[0],g=m[1];Object(a.useEffect)((function(){v()}),[]);var v=function(){var t=Object(te.a)(ee.a.mark((function t(){return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.get("/api/users/".concat(e.match.params.id)).then((function(e){console.log("response from DB",e.data),g(y(e.data.user,{pets:e.data.pets}))})).catch((function(e){console.log(e.response),404===e.response.status&&c({error:"User not found"})}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();console.log("selectedUserForm",O);console.log("selectedUserForm",O);var C=function(){d((function(){return!r}))},_=function(){var t=Object(te.a)(ee.a.mark((function t(){return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.delete("/api/users/".concat(O._id)).then((function(){console.log("".concat(O.name," ").concat(O.lastName," was successfully removed")),e.history.push("/")})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return O?Object(j.jsx)(j.Fragment,{children:r?Object(j.jsx)(ie,{toggleEditForm:C,handleChange:function(e){var t,n=e.target,a=n.name,c=n.value;console.log("name, value",a,c),g(Object(i.a)(Object(i.a)({},O),{},(t={},Object(p.a)(t,a,c),Object(p.a)(t,"address",Object(i.a)(Object(i.a)({},O.address),{},Object(p.a)({},a,c))),t)))},handleSubmit:function(t){t.preventDefault(),console.log("update"),x.a.put("/api/users/".concat(O._id),{name:O.name,lastName:O.lastName,email:O.email,street:O.address.street,zipCode:O.address.zipCode,city:O.address.city,state:O.address.state,phoneNumber:O.phoneNumber}).then((function(t){e.history.goBack()})).catch((function(e){console.log(e)}))},selectedUserForm:O}):Object(j.jsxs)("div",{className:ae.a.Card,children:[Object(j.jsxs)("h3",{children:[O.name," ",O.lastName]}),Object(j.jsx)("div",{children:e.isEmployee?Object(j.jsxs)(f.b,{to:"/users/".concat(O._id,"/pet"),children:[Object(j.jsx)("span",{style:{fontSize:"bold"},children:"+"}),Object(j.jsx)("span",{children:"pet"})]}):Object(j.jsxs)(f.b,{to:"/pets/add",children:[Object(j.jsx)("span",{style:{fontSize:"bold"},children:"+"}),Object(j.jsx)("span",{children:"pet"})]})}),Object(j.jsxs)("div",{className:ae.a.Infos,children:[Object(j.jsxs)("div",{style:{width:"100%"},children:[Object(j.jsx)("p",{children:"Address: "}),Object(j.jsxs)("p",{children:["\xa0 Street: ",O.address.street]}),Object(j.jsxs)("p",{children:["\xa0 ZIP Code:"," ",O.address.zipCode]}),Object(j.jsxs)("p",{children:["\xa0 City: ",O.address.city]}),Object(j.jsxs)("p",{children:["\xa0 State: ",O.address.state]}),Object(j.jsx)("hr",{}),Object(j.jsxs)("p",{children:["E-mail: ",O.email]}),Object(j.jsxs)("p",{children:["Phone num.: ",O.phoneNumber]}),Object(j.jsx)("hr",{}),O.position&&Object(j.jsxs)("p",{children:["Position: ",O.position]}),Object(j.jsxs)("p",{children:[O.role," since: ",Object(j.jsx)("br",{}),O.createdAt]})]}),Object(j.jsxs)("div",{style:{width:"100%"},children:[Object(j.jsx)("p",{children:"Pets: "}),Object(j.jsx)("ul",{children:O.pets.map((function(e){return Object(j.jsx)(f.b,{to:"/pets/".concat(e._id),children:Object(j.jsxs)("li",{children:[e.name,Object(j.jsx)("br",{}),e.specie,Object(j.jsx)("br",{}),e.breed,Object(j.jsx)("br",{})]})})}))})]})]}),Object(j.jsxs)("div",{className:ae.a.buttons,children:[Object(j.jsx)("div",{children:Object(j.jsx)("button",{onClick:function(){return e.history.goBack()},children:"Back"})}),Object(j.jsxs)("div",{style:{display:"flex",marginRight:"5%"},children:[Object(j.jsx)("button",{onClick:C,children:"Edit"}),Object(j.jsx)("button",{onClick:_,children:"Delete"})]})]})]})}):Object(j.jsx)(M,{})},oe=n(49),re=n.n(oe),de=function(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),c=n[0],s=n[1],o=Object(a.useState)({name:{elementType:"input",elementConfig:{type:"text",placeholder:"First name"},value:"",validation:{required:!0,minLength:2},valid:!1,touched:!1},lastName:{elementType:"input",elementConfig:{type:"text",placeholder:"Last name"},value:"",validation:{required:!0,minLength:2},valid:!1,touched:!1},email:{elementType:"input",elementConfig:{type:"email",placeholder:"Email"},value:"",validation:{required:!0,isEmail:!0,unique:!0},valid:!1,touched:!1},street:{elementType:"input",elementConfig:{type:"text",placeholder:"Street"},value:"",validation:{},valid:!1,touched:!1},zipCode:{elementType:"input",elementConfig:{type:"text",placeholder:"ZIP Code"},value:"",validation:{minLength:5,maxLength:5},valid:!1,touched:!1},city:{elementType:"input",elementConfig:{type:"text",placeholder:"City"},value:"",validation:{},valid:!1,touched:!1},state:{elementType:"input",elementConfig:{type:"text",placeholder:"State"},value:"",validation:{},valid:!1,touched:!1},phoneNumber:{elementType:"input",elementConfig:{type:"text",placeholder:"Phone Num."},value:"",validation:{},valid:!1,touched:!1},role:{elementType:"select",elementConfig:{options:[{value:"employee",displayValue:"employee"},{value:"client",displayValue:"client"}]},value:"client",validation:{},valid:!0}}),r=Object(l.a)(o,2),d=r[0],u=r[1],h=Object(a.useState)(!1),b=Object(l.a)(h,2),m=b[0],O=b[1];console.log("formUpdated",d),console.log("formIsValid",m);var g=[];for(var f in d)g.push({id:f,config:d[f]});var _=g.map((function(e){return Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)(S,{className:"form-control",elementType:e.config.elementType,elementConfig:e.config.elementConfig,value:e.config.value,invalid:!e.config.valid,shouldValidate:e.config.validation,touched:e.config.touched,changed:function(t){return function(e,t){console.log("inputId",t),console.log("required?",C(d[t].validation));var n=y(d[t],{value:e.target.value,valid:C(e.target.value,d[t].validation),touched:!0}),a=y(d,Object(p.a)({},t,n)),c=!0;for(var s in a)c=a[s].valid&&c;u(a),O(c)}(t,e.id)}})},e.id)}));return Object(j.jsx)("div",{children:Object(j.jsxs)(v.a,{className:re.a.Form,onSubmit:function(t){t.preventDefault(),x.a.post("/api/users/add",{name:d.name.value,lastName:d.lastName.value,email:d.email.value,street:d.street.value,zipCode:d.zipCode.value,city:d.city.value,state:d.state.value,role:d.role.value,phoneNumber:d.phoneNumber.value}).then((function(t){if(t.message)for(var n in s(t.message),d)u(Object(i.a)(Object(i.a)({},d),{},{key:Object(i.a)(Object(i.a)({},n),{},{value:""})}));else console.log("user added",t),e.history.goBack()}))},children:[_,Object(j.jsx)("button",{className:re.a.Button,type:"submit",children:Object(j.jsx)("h1",{style:{fontWeight:"bold"},children:"+"})}),c&&Object(j.jsx)("p",{style:{color:"red"},children:c})]})})},ue=n(50),je=n.n(ue),he=function(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),c=n[0],s=n[1],o=Object(a.useState)({specie:{elementType:"select",elementConfig:{options:[{value:"dog",displayValue:"dog"},{value:"cat",displayValue:"cat"},{value:"rodent",displayValue:"rodent"},{value:"bird",displayValue:"bird"},{value:"reptile",displayValue:"reptile"},{value:"other",displayValue:"other"}]},validation:{},valid:!0},name:{elementType:"input",elementConfig:{type:"text",placeholder:"Name"},value:"",validation:{required:!0,minLength:2},valid:!1,touched:!1},breed:{elementType:"input",elementConfig:{type:"text",placeholder:"Breed"},value:"",validation:{required:!0,minLength:3},valid:!1,touched:!1},age:{elementType:"input",elementConfig:{type:"text",placeholder:"Age"},value:"",validation:{minLength:1},valid:!1,touched:!1},diagnosis:{elementType:"input",elementConfig:{type:"text",placeholder:"Diagnosis"},value:"",validation:{minLength:3},valid:!1,touched:!1},treatment:{elementType:"input",elementConfig:{type:"text",placeholder:"Treatment"},value:"",validation:{minLength:3},valid:!1,touched:!1},owner:{elementType:"select",elementConfig:{options:[]},validation:{},valid:!0}}),r=Object(l.a)(o,2),d=r[0],u=r[1],h=Object(a.useState)(!1),b=Object(l.a)(h,2),m=b[0],O=b[1];Object(a.useEffect)((function(){_()}),[]);var g,f,_=function(){x.a.get("/api/users/owners").then((function(e){u(Object(i.a)(Object(i.a)({},d),{},{owner:Object(i.a)(Object(i.a)({},d.owner),{},{elementConfig:Object(i.a)(Object(i.a)({},d.elementConfig),{},{options:e.data})})}))})).catch((function(e){console.log(e)}))},N=function(e,t){var n=y(d[t],{value:e.target.value,valid:C(e.target.value,d[t].validation),touched:!0}),a=y(d,Object(p.a)({},t,n)),c=!0;for(var s in a)c=a[s].valid&&c;u(a),O(c)};console.log("formUpdated",d),console.log("formIsValid",m),"/pets/add"!==e.location.pathname?(g="/api/users/".concat(e.location.pathname.split("/")[2].toString(),"/pet"))&&(f=e.location.pathname.split("/")[2].toString()):(g="/api/pets/add")&&(f=d.owner.value);var w=[];for(var F in d)w.push({id:F,config:d[F]});var I=w.map((function(t){var n="";return e.isEmployee&&(n=Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)(S,{className:"form-control",elementType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,invalid:!t.config.valid,shouldValidate:t.config.validation,touched:t.config.touched,changed:function(e){return N(e,t.id)}})},t.id)),"owner"!==t.id&&(n=Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)(S,{className:"form-control",elementType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,invalid:!t.config.valid,shouldValidate:t.config.validation,touched:t.config.touched,changed:function(e){return N(e,t.id)}})},t.id)),n}));return Object(j.jsx)("div",{children:Object(j.jsxs)(v.a,{className:je.a.Form,onSubmit:function(t){t.preventDefault(),x.a.post(g,{name:d.name.value,specie:d.specie.value,breed:d.breed.value,age:d.age.value,diagnosis:d.diagnosis.value,treatment:d.treatment.value,owner:f}).then((function(t){t.message?s(t.message):(console.log("pet added",t),e.history.goBack())}))},children:[Object(j.jsx)("h3",{children:"Add pet"}),I,Object(j.jsx)("button",{className:je.a.Button,type:"submit",children:Object(j.jsx)("span",{children:"+"})}),Object(j.jsx)("button",{onClick:function(){return e.history.goBack()},children:"Back"}),c&&Object(j.jsx)("p",{style:{color:"red"},children:c})]})})},be=n(38),pe=n.n(be),me=function(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(""),o=Object(l.a)(i,2),r=o[0],d=o[1],u=Object(a.useState)(!0),h=Object(l.a)(u,2),b=h[0],p=h[1],m=Object(a.useState)(!0),O=Object(l.a)(m,2),g=O[0],v=O[1],y=Object(a.useState)(!0),C=Object(l.a)(y,2),_=C[0],N=C[1],S=Object(a.useState)(!0),w=Object(l.a)(S,2),F=w[0],I=w[1],L=Object(a.useState)(!0),k=Object(l.a)(L,2),B=k[0],T=k[1],P=Object(a.useState)(!0),E=Object(l.a)(P,2),U=E[0],z=E[1];Object(a.useEffect)((function(){x.a.get("/api/pets").then((function(e){s(e.data)})).catch((function(e){console.log(e)}))}),[]),console.log("petsList",c);var D=c.filter((function(e){return(b&&"dog"===e.specie||g&&"cat"===e.specie||F&&"bird"===e.specie||_&&"rodent"===e.specie||B&&"reptile"===e.specie||U&&"other"===e.specie)&&("".concat(e.name).toLowerCase().includes("".concat(r.toLowerCase()))||"".concat(e.lastName).toLowerCase().includes("".concat(r.toLowerCase())))})).map((function(e){return Object(j.jsxs)("tr",{className:pe.a.resultCard,children:[Object(j.jsx)("td",{style:{width:"30%"},children:Object(j.jsx)(f.b,{to:"/pets/".concat(e._id),children:e.name})}),Object(j.jsx)("td",{children:e.specie}),Object(j.jsx)("td",{children:e.owner})]},e._id)}));return c?Object(j.jsxs)("div",{className:pe.a.Container,children:[Object(j.jsx)($,{handleChange:function(e){"checkbox"===e.target.type?"dog"===e.target.name?p((function(){return!b})):"cat"===e.target.name?v((function(){return!g})):"bird"===e.target.name?I((function(){return!F})):"rodent"===e.target.name?N((function(){return!_})):"reptile"===e.target.name?T((function(){return!B})):z((function(){return!U})):d(e.target.value)},isDog:b,isCat:g,isBird:F,isRodent:_,isReptile:B,isOther:U}),Object(j.jsx)("button",{className:pe.a.Button,children:Object(j.jsx)(f.b,{to:"/pets/add",children:Object(j.jsx)("span",{children:"+"})})}),Object(j.jsx)("table",{style:{margin:"0 0 10% 5%"},children:Object(j.jsx)("tbody",{children:D})})]}):Object(j.jsx)(M,{})},Oe=n(39),ge=n.n(Oe),xe=n(21),ve=n.n(xe),fe=function(e){return Object(j.jsx)("div",{children:Object(j.jsxs)("form",{className:ve.a.Form,onSubmit:e.handleSubmit,children:[Object(j.jsx)("h2",{children:"Edit "}),Object(j.jsxs)("div",{className:ve.a.Input,children:[Object(j.jsx)("label",{htmlFor:"name",children:"Name: \xa0"}),Object(j.jsx)("input",{type:"text",id:"name",name:"name",value:e.selectedPet.name,onChange:e.handleChange})]}),Object(j.jsxs)("div",{className:ve.a.Input,children:[Object(j.jsx)("label",{htmlFor:"specie",children:"Specie: \xa0"}),Object(j.jsx)("input",{type:"text",id:"specie",name:"specie",value:e.selectedPet.specie,onChange:e.handleChange})]}),Object(j.jsxs)("div",{className:ve.a.Input,children:[Object(j.jsx)("label",{htmlFor:"breed",children:"Breed: \xa0"}),Object(j.jsx)("input",{type:"text",id:"breed",name:"breed",value:e.selectedPet.breed,onChange:e.handleChange})]}),Object(j.jsxs)("div",{className:ve.a.Input,children:[Object(j.jsx)("label",{htmlFor:"age",children:"Age: \xa0"}),Object(j.jsx)("input",{type:"text",id:"age",name:"age",value:e.selectedPet.age,onChange:e.handleChange})]}),Object(j.jsxs)("div",{className:ve.a.Input,children:[Object(j.jsx)("label",{htmlFor:"diagnosis",children:"Diagnosis: \xa0"}),Object(j.jsx)("input",{type:"text",id:"diagnosis",name:"diagnosis",value:e.selectedPet.diagnosis,onChange:e.handleChange})]}),Object(j.jsxs)("div",{className:ve.a.Input,children:[Object(j.jsx)("label",{htmlFor:"treatment",children:"Treatment: \xa0"}),Object(j.jsx)("input",{type:"text",id:"treatment",name:"treatment",value:e.selectedPet.treatment,onChange:e.handleChange})]}),Object(j.jsxs)("div",{className:ve.a.buttons,children:[Object(j.jsx)("button",{type:"submit",children:"Update"}),Object(j.jsx)("button",{onClick:e.toggleEditForm,children:"Back"})]})]})})},ye=function(e){var t=Object(a.useState)(null),n=Object(l.a)(t,2),c=(n[0],n[1]),s=Object(a.useState)(!1),o=Object(l.a)(s,2),r=o[0],d=o[1],u=Object(a.useState)(!1),h=Object(l.a)(u,2),b=(h[0],h[1],Object(a.useState)("")),m=Object(l.a)(b,2),O=m[0],g=m[1];Object(a.useEffect)((function(){v()}),[]);var v=function(){var t=Object(te.a)(ee.a.mark((function t(){return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.get("/api/pets/".concat(e.match.params.id)).then((function(e){console.log("response from DB",e.data),g(y({_id:e.data.pet._id,name:e.data.pet.name,specie:e.data.pet.specie,breed:e.data.pet.breed,age:e.data.pet.age,diagnosis:e.data.pet.diagnosis,treatment:e.data.pet.treatment,owner:{name:e.data.owner.name,lastName:e.data.owner.lastName,email:e.data.owner.email,address:e.data.owner.address,phoneNumber:e.data.owner.phoneNumber}}))})).catch((function(e){console.log(e.response),404===e.response.status&&c({error:"Pet not found"})}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();console.log("selectedPet",O);console.log("selectedPet",O);var f=function(){d((function(){return!r}))},C=function(){var t=Object(te.a)(ee.a.mark((function t(){return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.delete("/api/pets/".concat(O._id)).then((function(){console.log("".concat(O.name," ").concat(O.lastName," was successfully removed")),e.history.goBack()})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return O?Object(j.jsx)(j.Fragment,{children:r?Object(j.jsx)(fe,{toggleEditForm:f,handleChange:function(e){var t,n=e.target,a=n.name,c=n.value;console.log("name, value",a,c),g(Object(i.a)(Object(i.a)({},O),{},(t={},Object(p.a)(t,a,c),Object(p.a)(t,"address",Object(p.a)({},a,c)),t)))},handleSubmit:function(t){t.preventDefault(),console.log("update"),x.a.put("/api/pets/".concat(O._id),{name:O.name,specie:O.specie,breed:O.breed,age:O.age,diagnosis:O.diagnosis,treatment:O.treatment}).then((function(t){e.history.goBack(),v()})).catch((function(e){console.log(e)}))},selectedPet:O}):Object(j.jsxs)("div",{className:ge.a.Card,children:[Object(j.jsx)("h3",{children:O.name}),Object(j.jsxs)("div",{className:ge.a.Infos,children:[Object(j.jsxs)("div",{style:{width:"100%"},children:[Object(j.jsxs)("p",{children:["Specie: ",O.specie]}),Object(j.jsxs)("p",{children:["Breed: ",O.breed]}),Object(j.jsxs)("p",{children:["Age: ",O.age]}),Object(j.jsx)("hr",{}),Object(j.jsxs)("p",{children:["Diagnosis: ",O.diagnosis]}),Object(j.jsxs)("p",{children:["Treatment: ",O.treatment]})]}),Object(j.jsxs)("div",{style:{width:"100%",height:"50%"},children:[Object(j.jsx)("p",{children:"Owner: "}),Object(j.jsxs)("p",{children:["\xa0 Name: ",O.owner.name]}),Object(j.jsxs)("p",{children:["\xa0 Last name: ",O.owner.lastName]}),Object(j.jsx)("hr",{}),Object(j.jsxs)("p",{children:["\xa0 @: ",O.owner.email]}),Object(j.jsxs)("p",{children:["\xa0"," ",Object(j.jsx)("img",{src:"../../../../images/phone-logo.png",alt:"phone-logo",style:{width:"1.2rem",marginRight:"5%"}}),O.owner.phoneNumber]}),Object(j.jsx)("hr",{}),Object(j.jsxs)("p",{children:["\xa0 Street:"," ",O.owner.address.street]}),Object(j.jsxs)("p",{children:["\xa0 City: ",O.owner.address.city]}),Object(j.jsxs)("p",{children:["\xa0 ZIP code:"," ",O.owner.address.zipCode]}),Object(j.jsxs)("p",{children:["\xa0 State: ",O.owner.address.state]})]})]}),Object(j.jsxs)("div",{className:ge.a.buttons,children:[Object(j.jsx)("div",{children:Object(j.jsx)("button",{onClick:function(){return e.history.goBack()},children:"Back"})}),Object(j.jsxs)("div",{style:{display:"flex",marginRight:"5%"},children:[Object(j.jsx)("button",{onClick:f,children:"Edit"}),Object(j.jsx)("button",{onClick:C,children:"Delete"})]})]})]})}):Object(j.jsx)(M,{})};var Ce=function(e){var t=Object(a.useState)(e.user||""),n=Object(l.a)(t,2),c=n[0],s=n[1];console.log("user",c);var r=!1;return"employee"===c.role&&(r=!0),Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(o.a,{render:function(e){return Object(j.jsx)(z,Object(i.a)(Object(i.a)({},e),{},{isEmployee:r,setUser:s,user:c}))}}),Object(j.jsxs)(o.c,{children:[Object(j.jsx)(o.a,{exact:!0,path:"/",component:b}),Object(j.jsx)(o.a,{exact:!0,path:"/signup",render:function(e){return Object(j.jsx)(w,Object(i.a)(Object(i.a)({},e),{},{setUser:s}))}}),Object(j.jsx)(o.a,{exact:!0,path:"/users",component:X}),Object(j.jsx)(o.a,{exact:!0,path:"/users/add",render:function(e){return Object(j.jsx)(de,Object(i.a)({},e))}}),Object(j.jsx)(o.a,{exact:!0,path:"/users/:id",render:function(e){return Object(j.jsx)(le,Object(i.a)(Object(i.a)({},e),{},{isEmployee:r,selectedUser:c}))}}),Object(j.jsx)(o.a,{exact:!0,path:"/pets/add",render:function(e){return Object(j.jsx)(he,Object(i.a)(Object(i.a)({},e),{},{isEmployee:r,user:c}))}}),Object(j.jsx)(o.a,{exact:!0,path:"/users/:id/pet",render:function(e){return Object(j.jsx)(he,Object(i.a)({},e))}}),Object(j.jsx)(o.a,{exact:!0,path:"/pets",component:me}),Object(j.jsx)(o.a,{exact:!0,path:"/pets/:id",component:ye})]}),Object(j.jsx)(q,{})]})},_e=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,112)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),s(e),i(e)}))};x.a.get("/api/auth/loggedin").then((function(e){var t=e.data;s.a.render(Object(j.jsx)(f.a,{children:Object(j.jsx)(Ce,{user:t})}),document.getElementById("root"))})).catch((function(e){console.log(e)})),_e()},20:function(e,t,n){e.exports={Form:"EditUser_Form__lkfFK",Input:"EditUser_Input__2LzE-"}},21:function(e,t,n){e.exports={Form:"EditPet_Form__2oJl5",Input:"EditPet_Input__1NSqB"}},35:function(e,t,n){e.exports={Input:"Input_Input__3cBI6",Label:"Input_Label__1v3Uc",InputElement:"Input_InputElement__3rTLZ",Invalid:"Input_Invalid__3Dkzu"}},36:function(e,t,n){e.exports={Container:"UserList_Container__3e04F",resultCard:"UserList_resultCard__1z-Gj"}},37:function(e,t,n){e.exports={Card:"UserDetails_Card__HQ1WF",Infos:"UserDetails_Infos__3ej3a",buttons:"UserDetails_buttons__1xvsu"}},38:function(e,t,n){e.exports={Container:"PetsList_Container__2RD_v",resultCard:"PetsList_resultCard__30Eix",Button:"PetsList_Button__cvohk"}},39:function(e,t,n){e.exports={Card:"PetDetails_Card__RdALo",Infos:"PetDetails_Infos__2ilSc",buttons:"PetDetails_buttons__11ne8"}},44:function(e,t,n){e.exports={Form:"Signup_Form__8QMrr",Button:"Signup_Button__15QTS"}},47:function(e,t,n){e.exports={Navbar:"Navbar_Navbar__2hRdE",Button:"Navbar_Button__1zRXy"}},48:function(e,t,n){e.exports={Button:"Login_Button__2pbIP",Form:"Login_Form__OiCHT"}},49:function(e,t,n){e.exports={Form:"AddUser_Form__3-O1P",Button:"AddUser_Button__1q-zJ"}},50:function(e,t,n){e.exports={Form:"AddPet_Form__3ykWl",Button:"AddPet_Button__3ZfPF"}},60:function(e,t,n){e.exports={Carousel:"Carousel_Carousel__Ad4Ae"}},66:function(e,t,n){e.exports={Footer:"Footer_Footer__IrRCd"}},67:function(e,t,n){e.exports={Container:"Filters_Container__2qZUz"}},68:function(e,t,n){e.exports={Loader:"Spinner_Loader__2C0iS",load4:"Spinner_load4__2DS-6"}},73:function(e,t,n){},75:function(e,t,n){}},[[105,1,2]]]);
//# sourceMappingURL=main.2c15e9e5.chunk.js.map